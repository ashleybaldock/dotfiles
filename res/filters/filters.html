<!doctype html>
<html lang="en">
  <head>
    <title>Filters</title>
    <!--{{{-->
    <meta charset="utf-8" http-equiv="Content-type" />
    <meta name="theme-color" content="#000000" />

    <link rel="stylesheet" href="/common.css" />
    <link rel="stylesheet" href="filters.css" />
    <link rel="stylesheet" href="filters-demo.css" />

    <!--<script type="application/javascript" src="/entanglement.js"></script>

    <script>
      entanglement().then((untangle) => {
        console.log(untangle);
      });
    </script>-->
    <!--}}}-->
  </head>
  <body>
    <aside class="svgdefs">
    <svg xmlns="http://www.w3.org/2000/svg">
      <defs>
        <clipPath
          id="objectBoundingBoxClipPath"
          clipPathUnits="objectBoundingBox">
          <circle cx=".5" cy=".5" r=".35" />
        </clipPath>
        <clipPath
          id="userSpaceOnUseClipPath"
          clipPathUnits="userSpaceOnUse">
          <circle cx="50" cy="50" r="35" />
        </clipPath>
          <!-- primitiveUnits="userSpaceOnUse" -->

        <filter
          id="fillandoutline"
          x="-10%"
          y="-10%"
          width="120%"
          height="120%"
          filterUnits="objectBoundingBox"
          >
          <feMorphology
            in="SourceAlpha"
            operator="dilate"
            radius="1.6"
            result="DILATED"
          ></feMorphology>

          <feFlood
            flood-opacity="1"
            flood-color="#006cbf"
            result="SOURCE-COLOR"
          ></feFlood>
          <feComposite
            in="SOURCE-COLOR"
            in2="SourceAlpha"
            operator="in"
            result="SOURCE-RECOLOR"
          ></feComposite>

          <feFlood
            flood-opacity="1"
            flood-color="#000000"
            result="OUTLINE-COLOR"
          ></feFlood>
          <feComposite
            in="OUTLINE-COLOR"
            in2="DILATED"
            operator="in"
            result="OUTLINE"
          ></feComposite>

          <feMerge>
            <feMergeNode in="OUTLINE"></feMergeNode>
            <feMergeNode in="SOURCE-RECOLOR"></feMergeNode>
          </feMerge>
        </filter>
      </defs>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg">
      <defs>
        <filter id="coloroutline" clipPathUnits="objectBoundingBox">
          <feFlood
            flood-opacity="1"
            flood-color="#006cbf"
            result="SOURCE-COLOR"
          ></feFlood>
          <feComposite
            in="SOURCE-COLOR"
            in2="SourceAlpha"
            operator="out"
            result="SOURCE-RECOLOR"
          ></feComposite>

          <feMorphology
            in="SourceAlpha"
            operator="dilate"
            radius="1"
            result="DILATED"
          ></feMorphology>
          <feComposite
            in="DILATED"
            in2="SourceGraphic"
            operator="out"
            out="OUTLINE-ONLY"
          ></feComposite>
          <feFlood
            flood-opacity="1"
            flood-color="#000000"
            result="OUTLINE-COLOR"
          ></feFlood>
          <feComposite
            in="OUTLINE-COLOR"
            in2="DILATED"
            operator="out"
            result="OUTLINE"
          ></feComposite>

          <feMerge>
            <feMergeNode in="OUTLINE"></feMergeNode>
            <feMergeNode in="OUTLINE-ONLY"></feMergeNode>
          </feMerge>
        </filter>

      </defs>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg">
      <defs>
        <filter id="softoutline" clipPathUnits="objectBoundingBox">
          <feMorphology
            in="SourceAlpha"
            operator="dilate"
            radius="1"
            result="DILATED"
          ></feMorphology>
          <feComposite
            in="DILATED"
            in2="SourceGraphic"
            operator="out"
            out="OUTLINE-ONLY"
          ></feComposite>
          <feGaussianBlur
            in="OUTLINE-ONLY"
            stdDeviation="0.8"
            out="OUTLINE-ONLY-BLUR"
          ></feGaussianBlur>

          <feFlood
            flood-opacity="1"
            flood-color="#006cbf"
            result="SOURCE-COLOR"
          ></feFlood>
          <feComposite
            in="SOURCE-COLOR"
            in2="SourceAlpha"
            operator="in"
            result="SOURCE-RECOLOR"
          ></feComposite>
          <feComposite
            in="SOURCE-COLOR"
            in2="SourceAlpha"
            operator="out"
            result="SOURCE-RECOLOR-OUT"
          ></feComposite>

          <feFlood
            flood-opacity="1"
            flood-color="#000000"
            result="OUTLINE-COLOR"
          ></feFlood>
          <feComposite
            in="OUTLINE-COLOR"
            in2="DILATED"
            operator="out"
            result="OUTLINE"
          ></feComposite>
          <feMerge>
            <feMergeNode in="OUTLINE-ONLY_"></feMergeNode>
            <feMergeNode in="SOURCE-RECOLOR-OUT_"></feMergeNode>
            <feMergeNode in="OUTLINE-ONLY-BLUR"></feMergeNode>
            <feMergeNode in="OUTLINE-ONLY-BLUR"></feMergeNode>

            <feMergeNode in="SOURCE-RECOLOR"></feMergeNode>
          </feMerge>
        </filter>
      </defs>
    </svg>
    </aside>
    <h2>Filters</h2>

    <section class="demo">
      <article style="--f: url(#fillandoutline)">
        <h3>Fill and Outline</h3>
      </article>
      <article style="--f: url(#outline)">
        <h3>Outline</h3>
      </article>
      <article style="--f: url(#coloroutline)">
        <h3>Color Outline</h3>
      </article>
      <article style="--f: url(#softoutline)">
        <h3>Soft Outline</h3>
      </article>
    </section>

    <section class="demo">
      <h2>Basic CSS Filters</h2>

      <article style="--f: var(--f-tinydots)">
        <h3>Tiny dots<h3>
        <div class="svg"></div>
      </article>
    </section>
  </body>
</html>
