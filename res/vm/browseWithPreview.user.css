/*{{{1 SVG Icons */
.toggle-images {
  background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%220 0 512 512%22%3E%3Cpath d=%22M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z%22%3E%3C/path%3E%3C/svg%3E');
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
}

.toggle-videos {
  background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 512 512%22%3E%3Cpath d=%22M0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM48 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM48 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM48 112l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16L64 96c-8.8 0-16 7.2-16 16zM416 96c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM160 128l0 64c0 17.7 14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32L192 96c-17.7 0-32 14.3-32  32zm32 160c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-128 0z%22/%3E%3C/svg%3E%0D');
}

.toggle-hidden {
  background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 640 512%22%3E%3Cpath d=%22M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z%22/%3E%3C/svg%3E%0D');
}

.toggle-hidden {
  background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 640 512%22%3E%3Cpath d=%22M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z%22/%3E%3C/svg%3E%0D');
}

.toggle-other {
  background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%220 0 512 512%22%3E%3Cpath d=%22M315.4 15.5C309.7 5.9 299.2 0 288 0s-21.7 5.9-27.4 15.5l-96 160c-5.9 9.9-6.1 22.2-.4 32.2s16.3 16.2 27.8 16.2H384c11.5 0 22.2-6.2 27.8-16.2s5.5-22.3-.4-32.2l-96-160zM288 312V456c0 22.1 17.9 40 40 40H472c22.1 0 40-17.9 40-40V312c0-22.1-17.9-40-40-40H328c-22.1 0-40 17.9-40 40zM128 512a128 128 0 1 0 0-256 128 128 0 1 0 0 256z%22%3E%3C/path%3E%3C/svg%3E');
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
}

.play {
  background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%220 0 512 512%22%3E%3Cpath d=%22M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z%22%3E%3C/path%3E%3C/svg%3E');
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
}

.stop {
  background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%220 0 512 512%22%3E%3Cpath d=%22M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM192 160H320c17.7 0 32 14.3 32 32V320c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V192c0-17.7 14.3-32 32-32z%22%3E%3C/path%3E%3C/svg%3E');
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
}

.pause {
  background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%220 0 512 512%22%3E%3Cpath d=%22M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM224 192V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32z%22%3E%3C/path%3E%3C/svg%3E');
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
}

.shuffle {
  background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%220 0 512 512%22%3E%3Cpath d=%22M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z%22%3E%3C/path%3E%3C/svg%3E');
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
}

.next {
  background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%220 0 320 512%22%3E%3Cpath d=%22M52.5 440.6c-9.5 7.9-22.8 9.7-34.1 4.4S0 428.4 0 416V96C0 83.6 7.2 72.3 18.4 67s24.5-3.6 34.1 4.4l192 160L256 241V96c0-17.7 14.3-32 32-32s32 14.3 32 32V416c0 17.7-14.3 32-32 32s-32-14.3-32-32V271l-11.5 9.6-192 160z%22%3E%3C/path%3E%3C/svg%3E');
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
}
.prev {
  background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%220 0 320 512%22%3E%3Cpath d=%22M267.5 440.6c9.5 7.9 22.8 9.7 34.1 4.4s18.4-16.6 18.4-29V96c0-12.4-7.2-23.7-18.4-29s-24.5-3.6-34.1 4.4l-192 160L64 241V96c0-17.7-14.3-32-32-32S0 78.3 0 96V416c0 17.7 14.3 32 32 32s32-14.3 32-32V271l11.5 9.6 192 160z%22%3E%3C/path%3E%3C/svg%3E');
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
}
/*}}}1*/

:root {
  margin: 0;
  padding: 0;
}

/*!{{{1 @property */
@property --cursor-image {
  syntax: '<image> | <url>';
  inherits: true;
  initial-value: url('data:image/svg+xml,%3Csvg width=%2232%22 height=%2232%22 xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 32 32%22%3E%3Cg fill=%22none%22 fill-rule=%22evenodd%22%3E%3Cpath fill=%22%23fff%22 d=%22m16.148 25.473 1.863-1.003 1.615-.839-2.568-4.816h4.332L10.011 7.407v16.015l3.316-3.221z%22/%3E%3Cpath fill=%22%23000%22 d=%22m16.431 24 1.765-.941-2.775-5.202h3.604L11 9.814v11.188l2.53-2.442z%22/%3E%3C/g%3E%3C/svg%3E');
}
@property --cursor-hotspot-x {
  syntax: '<integer>';
  inherits: true;
  initial-value: 0;
}
@property --cursor-hotspot-y {
  syntax: '<integer>';
  inherits: true;
  initial-value: 0;
}
@property --cursor-width {
  syntax: '<integer>';
  inherits: true;
  initial-value: 1;
}
@property --cursor-height {
  syntax: '<integer>';
  inherits: true;
  initial-value: 1;
}
@property --cursor-fallback {
  syntax: 'auto | none | context-menu | help | pointer | progress | wait | cell | crosshair | text | vertical-text | alias | copy | move | no-drop | not-allowed | grab | grabbing | e-resize | n-resize | ne-resize | nw-resize | s-resize | se-resize | sw-resize | w-resize | ew-resize | ns-resize | nesw-resize | nwse-resize | col-resize | row-resize | all-scroll | zoom-in | zoom-out';
  inherits: true;
  initial-value: auto;
}
.vidwrap:has(> .playing),
.vidwrap:has(> .paused),
[data-cursor] {
  cursor:
    var(--cursor-image) var(--cursor-hotspot-x) var(--cursor-hotspot-y),
    var(--cursor-fallback);
  --cursor-fallback: default;
}

.vidwrap:has(> .playing),
[data-cursor='media-default-pause'] {
  --cursor-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2232%22 height=%2232%22 viewBox=%220 0 512 512%22%3E\
    %3Cpath fill=%22%23fff%22 d=%22M146 368a128 128 0 1 1 256 0 128 128 0 1 1-256 0m94.15-54.45c-3.8 2.1-6.15 6.15-6.15 10.45v88c0 4.35 2.35 8.35 6.15 10.45s8.4 2.05 12.15-.25l72-44c3.55-2.2 5.75-6.05 5.75-10.25s-2.2-8.05-5.75-10.25l-72-44a12.13 12.13 0 0 0-12.15-.25zM116 269.752V13.512l185.456 185.904H188.8l-2.416.984z%22/%3E\
    %3Cpath d=%22M132 52.024v179.008l47.504-45.856.56-2.224h80.576z%22/%3E\
    %3C/svg%3E');
  --cursor-fallback: pointer;
  --cursor-width: 32;
  --cursor-height: 32;
  --cursor-hotspot-x: 8;
  --cursor-hotspot-y: 2;
}

.vidwrap:has(> .paused),
[data-cursor='media-default-play'] {
  --cursor-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2232%22 height=%2232%22 viewBox=%220 0 512 512%22%3E\
    %3Cpath fill=%22%23fff%22 d=%22M274 496a128 128 0 1 0 0-256 128 128 0 1 0 0 256m-16-160v64c0 8.85-7.15 16-16 16s-16-7.15-16-16v-64c0-8.85 7.15-16 16-16s16 7.15 16 16m64 0v64c0 8.85-7.15 16-16 16s-16-7.15-16-16v-64c0-8.85 7.15-16 16-16s16 7.15 16 16%22/%3E\
    %3Cg fill=%22none%22%3E\
    %3Cpath fill=%22%23fff%22 d=%22M116 269.752V13.512l185.456 185.904H188.8l-2.416.984z%22/%3E\
    %3Cpath fill=%22%23000%22 d=%22M132 52.024v179.008l47.504-45.856.56-2.224h80.576z%22/%3E\
    %3C/g%3E\
    %3C/svg%3E');
  --cursor-fallback: pointer;
  --cursor-width: 32;
  --cursor-height: 32;
  --cursor-hotspot-x: 8;
  --cursor-hotspot-y: 2;
}

body {
  padding: 0;
  margin: 0;
  align-items: center;
  display: grid;
  grid-template-areas: 'preview' 'files';
  max-height: 100vh;
  grid-template-rows: auto 1fr;
  height: 100vh;
  background-color: #000;
  color: #fff;
  max-width: 100vw;
  min-width: unset;
  border: none;
  border-radius: 0;
}

body > * {
  grid-area: files;
  max-height: 40vh;
}
body > video,
body > section:has(> video, > .vidwrap) {
  grid-area: preview;
  max-height: 100%;
  min-width: 100%;
  height: auto;
  object-fit: contain;
}

body:has(video[src=]) body > h1 {
  place-self: start end;
  z-index: 1;
  font-size: 1.1rem;
  margin: 1.2rem 3rem;
  border-bottom: none;
  color: #fff;
  letter-spacing: 0.02em;
  font-family: monospace;
  height: fit-content;
}

body > .up {
  place-self: start;
  z-index: 1;
  margin: 0.6em 0.5em;
  padding: 0.5rem 2rem 0.4rem 2rem;
  margin-inline-start: 0;
  font-size: 0;
  display: flex;
  border-radius: 0.4rem;
  text-decoration: none;
  border: 1px solid #6660;
  justify-content: center;
  align-items: center;
  gap: 0.3rem;
  height: fit-content;
}

body > .up::after {
  content: '../';
  font-size: 1.1rem;
  font-family: monospace;
  font-weight: bold;
}

body > .up::before {
  width: 1.6rem;
  height: 1.6rem;
  background-size: 1.6rem;
  margin: 0;
}

body > .up:hover {
  background-color: #444444;
  border: 1px solid #666;
  text-decoration: none;
}

body > table {
  clear: unset;
  border: 1px solid #444;
  border-radius: 10px;
  padding: 3.4rem 2rem 1rem 2rem;
  min-width: 20em;
  max-width: unset;
  color: FieldText;
  overflow-y: scroll;
  place-self: start auto;
  display: block;
  width: auto;
  background-color: #1a1a1a;
}

[src^="moz-icon://"]
{
  display: none;
}
.file:has(> img) {
  margin-inline-start: 0;
  margin: 0;
}

thead {
  font-size: 1rem;
  display: none;
}
td:first-child > a {
  color: #fff;
}
td:first-child + td + td + td {
  display: none;
}
td:first-child + td {
  padding-inline-end: 0;
}

@keyframes switch {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
  100% {
    opacity: 0;
  }
}

.vidwrap {
  display: grid;
  align-items: center;
  justify-content: stretch;
  grid-area: preview;
  height: 100%;
  min-width: auto;
}
.vidwrap > * {
  grid-column: 1/1;
  grid-row: 1/1;
}

.vidwrap.interleave.paused {
  animation-play-state: paused;
}
.interleave .vidwrap:has(video:not(.paused)) {
  animation: calc(var(--c) * var(--d)) steps(2, jump-none)
    calc((var(--n) - 1) * var(--d)) switch infinite;
  opacity: 0;
  --d: 600ms;
}
.interleave:has(.vidwrap:nth-of-type(1)) {
  --c: 1;
}
.interleave:has(.vidwrap:nth-of-type(2)) {
  --c: 2;
}
.interleave:has(.vidwrap:nth-of-type(3)) {
  --c: 3;
}
.interleave:has(.vidwrap:nth-of-type(4)) {
  --c: 4;
}
.interleave:has(.vidwrap:nth-of-type(5)) {
  --c: 5;
}
.interleave:has(.vidwrap:nth-of-type(6)) {
  --c: 6;
}
.interleave .vidwrap:has(video:not(.paused)):nth-of-type(1) {
  --n: 1;
}
.interleave .vidwrap:has(video:not(.paused)):nth-of-type(2) {
  --n: 2;
}
.interleave .vidwrap:has(video:not(.paused)):nth-of-type(3) {
  --n: 3;
}
.interleave .vidwrap:has(video:not(.paused)):nth-of-type(4) {
  --n: 4;
}
.interleave .vidwrap:has(video:not(.paused)):nth-of-type(5) {
  --n: 5;
}
.interleave .vidwrap:has(video:not(.paused)):nth-of-type(6) {
  --n: 6;
}
.interleave .vidwrap::after {
  content: 'Q';
  aspect-ratio: 1;
  width: auto;
  height: 1em;
  display: flex;
  align-items: center;
  justify-content: center;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100;
  background-color: var(--bg);
  font-size: 3em;
  line-height: normal;
  color: #000;
  font-family: monospace;
  opacity: 0.4;
}
.interleave .vidwrap:nth-of-type(1)::after {
  content: '1';
  --bg: #f00;
}
.interleave .vidwrap:nth-of-type(2)::after {
  content: '2';
  --bg: #0ff;
  left: 0.5em;
}
.interleave .vidwrap:nth-of-type(3)::after {
  content: '3';
  --bg: #f0f;
  left: 1em;
}
.interleave .vidwrap:nth-of-type(4)::after {
  content: '4';
  --bg: #ff0;
  left: 1.5em;
}
.interleave .vidwrap:nth-of-type(5)::after {
  content: '5';
  --bg: #0f0;
  left: 2em;
}
.interleave .vidwrap:nth-of-type(6)::after {
  content: '6';
  --bg: #00f;
  left: 2.5em;
}

/*{{{1 Overlay */
.overlay {
  width: 100%;
  display: grid;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}
.overlay::after {
  content: var(--t, 'Overlay ' counter(n));
  font-size: 6vh;
  text-align: center;
  counter-reset: n var(--n);
  display: block;
  grid-row: 1/1;
  grid-column: 1/1;
}

.vidwrap .overlay {
  --t: 'Overlay i1';
}
.vidwrap + .vidwrap .overlay {
  --t: 'Overlay i2';
}
.vidwrap + .vidwrap + .vidwrap .overlay {
  --t: 'Overlay i3';
}
.vidwrap + .vidwrap + .vidwrap + .vidwrap .overlay {
  --t: 'Overlay i4';
}

.last {
  z-index: 1;
}

video {
  max-width: 100vw;
  max-height: 90vh;
}

.current.playing {
  z-index: 10;
}
.current.paused {
  z-index: 8;
}
.cue-prev.paused,
.cue-next.paused {
  z-index: 5;
}
.cue-prev.playing,
.cue-next.playing {
  z-index: 12;
}

section.paused {
  cursor: var(--cursor-play), pointer;
}
section.playing {
  cursor: var(--cursor-pause), pointer;
}

.linear,
.interleave {
  display: none;
}
[data-playmode='linear'] .linear {
  display: grid;
}
[data-playmode='interleave'] .interleave {
  display: grid;
}

.interleave {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: 1fr;
}

.interleave:has(:nth-child(1)) {
  --n: 1;
}
.interleave:has(:nth-child(2)) {
  --n: 2;
}
.interleave:has(:nth-child(6)) {
  --n: 3;
}
.interleave:has(:nth-child(10)) {
  --n: 4;
}
.interleave.paused {
  grid-template-columns: repeat(var(--n), 1fr);
  grid-template-rows: auto;
}
.interleave.paused > .vidwrap {
  grid-column: auto;
  grid-row: auto;
  outline: 1px dashed #fff;
  outline-offset: -2px;
  place-items: stretch;
}
.interleave.paused > .vidwrap > video {
  max-width: calc(100vw / var(--n));
}

body > table > tbody > tr {
  --h: 90deg;
  --s: 40%;
  --l: 10%;
  --a: 0%;
  background-color: hsl(
    calc(var(--h) + var(--h±, 0deg)) calc(var(--s) * var(--s✕, 1))
      calc(var(--l) * var(--l✕, 1) / calc(var(--a) * var(--a✕, 1)))
  );
}
body > table > tbody > tr:hover {
  outline: none;
  --s: 60%;
  --l: 30%;
}
body > table > tbody > tr.playing {
  --s✕: 1;
}
body > table > tbody > tr::before {
  content: attr(data-playerid, '');
  --h: 90deg;
  --s: 60%;
  --l: 50%;
  --a: 20%;
  display: table-cell;
  mask-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%220 0 512 512%22%3E%3Cpath d=%22M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z%22%3E%3C/path%3E%3C/svg%3E');
  mask-repeat: no-repeat;
  mask-composite: add;
  mask-position: center;
  mask-size: contain;
  mask-origin: content-box;
  mask-clip: padding-box;
  aspect-ratio: 1;
  background-repeat: no-repeat;
  background-position: center;
  line-height: 1.1rem;
  text-align: center;
  white-space: preserve-spaces;
  width: 2.2rem;
  height: 2.2rem;
  color: #fff0;
  background-size: 40%;
  padding: 0 2px;
}
body > table > thead > tr::before {
  content: 'Playback';
}
td:not(:first-child) {
  width: unset;
}

body > table > tbody > tr:hover {
  overflow: visible;
  box-shadow:
    inset 0 1.5px 3px -1px #fffa,
    inset 0 -1px 5px -1px #333;
}

body > table > tbody > tr > td {
  border-width: 0;
  margin: 0;
  padding: 0;
}

.file,
.dir {
  color: #fff;
  margin: 0;
  width: 100%;
  display: block;
  font-family: Menlo, monospace;
  letter-spacing: 0.02ch;
  font-size: 1.1rem;
  border-width: 0;
  height: 1.4rem;
  padding: 0.4rem 0.5ch;
  line-height: normal;
}
:where(.file, .dir):hover {
  text-decoration: none;
}

body > table > tbody > :where(.paused, .playing) {
  --s✕: 0.4;
  --a: 100%;
}
body > table > tbody > :where(.playing, .paused)::before {
  mask-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%220 0 512 512%22%3E%3Cpath d=%22M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z%22%3E%3C/path%3E%3C/svg%3E');
  background-size: contain, contain;
  mask-size: 60%;
  overflow: visible;
  background-origin: content-box, border-box, border-box;
}
body > table > tbody > .paused::before {
  mask-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%220 0 512 512%22%3E%3Cpath d=%22M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z%22%3E%3C/path%3E%3C/svg%3E');
  background-image:
    url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%22-15 -15 350 542%22%3E%3Cpath fill=%22%23ffffff%22 stroke=%22%23000000%22 stroke-width=%2220%22 d=%22M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z%22%3E%3C/path%3E%3C/svg%3E'),
    radial-gradient(
      ellipse 60% 50% at 20% 10%,
      #fddc 30%,
      #fdd5 60%,
      #0007 120%,
      #000c 170%
    ),
    radial-gradient(circle at center, #f00, #a00 50% 55%, #ff0 57%);
  background-clip: padding-box, padding-box, padding-box;
  background-size: auto, contain, contain, contain;
  padding: 1px;
  background-image:
    url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%22-15 -15 350 542%22%3E%3Cpath fill=%22%23ffffff%22 stroke=%22%23000000%22 stroke-width=%2220%22 d=%22M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z%22%3E%3C/path%3E%3C/svg%3E'),
    radial-gradient(
      circle at center,
      #f00,
      #a00 50% 53%,
      #969090 58%,
      #000 58%
    ),
    radial-gradient(
      ellipse 60% 50% at 20% 10%,
      #fdd8 30%,
      #fff2 60% 70%,
      #00000050 120%,
      #0008 180%
    ),
    radial-gradient(
      ellipse 115% 110% at 80% 70%,
      #fff0 22%,
      #fff8 50% 56%,
      #fff4 58%
    ),
    radial-gradient(circle at center, #0001 55%, #0002 60%, #000 60%);
  background-clip: content-box, content-box, content-box, content-box;
  background-origin: content-box, content-box, content-box, content-box;
  background-repeat: no-repeat;
  background-position: center center;
  background-blend-mode: hard-light, luminosity, normal;
  background-blend-mode: normal, color-burn, normal;
}
body > table > tbody > .playing::before {
  mask-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%220 0 384 512%22%3E%3Cpath d=%22M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z%22%3E%3C/path%3E%3C/svg%3E');
  background-image:
    url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%22-15 -15 350 542%22%3E%3Cpath fill=%22%23ffffff%22 stroke=%22%23000000%22 stroke-width=%2220%22 d=%22M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z%22%3E%3C/path%3E%3C/svg%3E')
      linear-gradient(-45deg, #fff2, #0002),
    linear-gradient(45deg, #f00, #00f);
}

.ellipsis > tbody > tr > td {
  padding: 0;
}

:where(.file, .dir)::before {
  content: '';
  margin-left: 0;
  background: #eee;
  color: #000;
  font-weight: bold;
  font-family: Menlo, monospace;
  border-radius: 6px / 40px;
  letter-spacing: 0;
  display: inline-block;
  width: 3.5ch;
  text-align: center;
  margin: 0 0.5ch 0 0;
  padding: 0.16em 0 0.1em 0.1ch;
  max-width: 3.5ch;
  font-size: 0.86em;
  text-transform: uppercase;
  line-height: 1em;
}

.file:has(> [src="moz-icon://.mp4?size=16"])::before
{
  content: 'mp4';
}
.file:has(> [src="moz-icon://.png?size=16"])::before
{
  content: 'png';
}
.file:has(> [src="moz-icon://.jpg?size=16"])::before
{
  content: 'jpg';
}
.file:has(> [src="moz-icon://.jpeg?size=16"])::before
{
  content: 'jpg';
}
.file:has(> [src="moz-icon://.gif?size=16"])::before
{
  content: 'gif';
}
.file:has(> [src="moz-icon://.html?size=16"])::before
{
  content: 'html';
}
.file:has(> [src="moz-icon://.css?size=16"])::before
{
  content: 'css';
}
.file:has(> [src="moz-icon://.js?size=16"])::before
{
  content: 'js';
}
.file:has(> [src="moz-icon://.ts?size=16"])::before
{
  content: 'ts';
}
.dir::before {
  content: 'dir';
}

body > table {
  border: 0;
  border-collapse: collapse;
  padding: 3.4rem 2rem 1rem 1.4rem;
}

body > table > tbody > tr {
  padding: 0 0.5ch;
}

body > table > tbody > tr:hover {
  box-shadow:
    inset 1px 1.3px 3px -1px #fffa,
    inset 0px -0.2px 5px -1.2px #000;
  border-radius: 1em;
  filter: drop-shadow(0.6px 0.8px 0.2px #fff4);
}

.file::before {
  background: #eee9;
  opacity: 0.8;
  background-image: linear-gradient(26deg, #0004 10%, #fff8 10% 70%, #0004 90%);
  mix-blend-mode: plus-lighter;
}

:has(.file:hover) .file:not(:hover)::before {
  mix-blend-mode: soft-light;
}

body > table > tbody > :where(.playing, .paused)::before {
  mask-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 height=%221em%22 viewBox=%220 0 512 512%22%3E%3Cpath d=%22M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z%22%3E%3C/path%3E%3C/svg%3E');
  background-size: 35%, 100%, 100%;
  mask-size: 84%;
  overflow: visible;
  background-repeat: no-repeat;
  display: table-cell;
  mask-clip: no-clip;
}

/*{{{1 Size and Date columns */
td:nth-child(n + 2) {
  transition: transform 200ms ease 0ms;
  transform: scale(0.8);
  font-size: 1em;
}
tr:hover > td:nth-child(n + 2) {
  transition: transform 120ms ease 0ms;
}
td:nth-child(2) {
  text-align: end;
  transform-origin: right;
}
tr:hover > td:nth-child(2) {
  transform: scale(1.04) translateX(4%);
}
td:nth-child(3) {
  text-align: start;
  transform-origin: left;
}
tr:hover > td:nth-child(3) {
  transform: scale(1.04) translateX(-4%);
}
